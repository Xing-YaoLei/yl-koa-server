import{d as e,r as t,g as a,a as l,s as n,b as r,u as o,c as s,e as i,o as c,f as d,h as u,w as p,T as m,i as f,j as h,k as v,_ as g,l as w,m as b,n as y,F as _,t as k,p as x,q as C,v as E,x as V,y as A,z as S,A as P,E as T,B as F,C as I,D as M,G as R,H as z,I as L,J as O,K as D,L as N,M as q,N as j,O as U,P as B,Q as H,R as X,S as $,U as W,V as Y,W as J,X as Z,Y as K,Z as G,$ as Q,a0 as ee,a1 as te,a2 as ae}from"./index.8d47e3e0.js";import{c as le}from"./FormValidation.dcbc89b2.js";import{g as ne}from"./index.4467d052.js";var re=(e=>(e[e.Mobile=0]="Mobile",e[e.Desktop=1]="Desktop",e))(re||{});const oe=e("app",(()=>{const e=t({opened:"closed"!==a(),withoutAnimation:!1}),r=l(1);return{device:r,sidebar:e,toggleSidebar:t=>{e.opened=!e.opened,e.withoutAnimation=t,e.opened?n("opened"):n("closed")},closeSidebar:t=>{e.opened=!1,e.withoutAnimation=t,n("closed")},toggleDevice:e=>{r.value=e}}})),se=!0,ie=!0,ce=!0,de=!0,ue=!1,pe=!0,me=!0,fe=e("settings",(()=>({fixedHeader:l(ce),showSettings:l(se),showTagsView:l(ie),showSidebarLogo:l(de),showNotify:l(ue),showThemeSwitch:l(pe),showScreenfull:l(me)}))),he={class:"app-main"},ve=g(r({__name:"AppMain",setup(e){const t=o(),a=s((()=>t.path));return(e,t)=>{const l=i("router-view");return c(),d("section",he,[u(l,null,{default:p((({Component:e})=>[u(m,{name:"fade-transform",mode:"out-in"},{default:p((()=>[(c(),f(v(e),{key:h(a)}))])),_:2},1024)])),_:1})])}}}),[["__scopeId","data-v-0058dddf"]]);function ge(e,t){void 0===t&&(t={});for(var a=function(e){for(var t=[],a=0;a<e.length;){var l=e[a];if("*"!==l&&"+"!==l&&"?"!==l)if("\\"!==l)if("{"!==l)if("}"!==l)if(":"!==l)if("("!==l)t.push({type:"CHAR",index:a,value:e[a++]});else{var n=1,r="";if("?"===e[s=a+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--n){s++;break}}else if("("===e[s]&&(n++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));r+=e[s++]}else r+=e[s++]+e[s++];if(n)throw new TypeError("Unbalanced pattern at ".concat(a));if(!r)throw new TypeError("Missing pattern at ".concat(a));t.push({type:"PATTERN",index:a,value:r}),a=s}else{for(var o="",s=a+1;s<e.length;){var i=e.charCodeAt(s);if(!(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||95===i))break;o+=e[s++]}if(!o)throw new TypeError("Missing parameter name at ".concat(a));t.push({type:"NAME",index:a,value:o}),a=s}else t.push({type:"CLOSE",index:a,value:e[a++]});else t.push({type:"OPEN",index:a,value:e[a++]});else t.push({type:"ESCAPED_CHAR",index:a++,value:e[a++]});else t.push({type:"MODIFIER",index:a,value:e[a++]})}return t.push({type:"END",index:a,value:""}),t}(e),l=t.prefixes,n=void 0===l?"./":l,r="[^".concat(function(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}(t.delimiter||"/#?"),"]+?"),o=[],s=0,i=0,c="",d=function(e){if(i<a.length&&a[i].type===e)return a[i++].value},u=function(e){var t=d(e);if(void 0!==t)return t;var l=a[i],n=l.type,r=l.index;throw new TypeError("Unexpected ".concat(n," at ").concat(r,", expected ").concat(e))},p=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};i<a.length;){var m=d("CHAR"),f=d("NAME"),h=d("PATTERN");if(f||h){var v=m||"";-1===n.indexOf(v)&&(c+=v,v=""),c&&(o.push(c),c=""),o.push({name:f||s++,prefix:v,suffix:"",pattern:h||r,modifier:d("MODIFIER")||""})}else{var g=m||d("ESCAPED_CHAR");if(g)c+=g;else if(c&&(o.push(c),c=""),d("OPEN")){v=p();var w=d("NAME")||"",b=d("PATTERN")||"",y=p();u("CLOSE"),o.push({name:w||(b?s++:""),pattern:w&&!b?r:b,prefix:v,suffix:y,modifier:d("MODIFIER")||""})}else u("END")}}return o}function we(e,t){return function(e,t){void 0===t&&(t={});var a=function(e){return e&&e.sensitive?"":"i"}(t),l=t.encode,n=void 0===l?function(e){return e}:l,r=t.validate,o=void 0===r||r,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),a)}));return function(t){for(var a="",l=0;l<e.length;l++){var r=e[l];if("string"!=typeof r){var i=t?t[r.name]:void 0,c="?"===r.modifier||"*"===r.modifier,d="*"===r.modifier||"+"===r.modifier;if(Array.isArray(i)){if(!d)throw new TypeError('Expected "'.concat(r.name,'" to not repeat, but got an array'));if(0===i.length){if(c)continue;throw new TypeError('Expected "'.concat(r.name,'" to not be empty'))}for(var u=0;u<i.length;u++){var p=n(i[u],r);if(o&&!s[l].test(p))throw new TypeError('Expected all "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(p,'"'));a+=r.prefix+p+r.suffix}}else if("string"!=typeof i&&"number"!=typeof i){if(!c){var m=d?"an array":"a string";throw new TypeError('Expected "'.concat(r.name,'" to be ').concat(m))}}else{p=n(String(i),r);if(o&&!s[l].test(p))throw new TypeError('Expected "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(p,'"'));a+=r.prefix+p+r.suffix}}else a+=r}return a}}(ge(e,t),t)}const be={key:0,class:"no-redirect"},ye=["onClick"],_e=g(r({__name:"index",setup(e){const t=o(),a=w(),n=l([]),r=()=>{n.value=t.matched.filter((e=>e.meta&&e.meta.title&&!1!==e.meta.breadcrumb))},s=e=>{const{redirect:l,path:n}=e;l?a.push(l):a.push((e=>{const{params:a}=t;return we(e)(a)})(n))};return b((()=>t.path),(e=>{e.startsWith("/redirect/")||r()})),r(),(e,t)=>{const a=i("el-breadcrumb-item"),l=i("el-breadcrumb");return c(),f(l,{class:"app-breadcrumb"},{default:p((()=>[(c(!0),d(_,null,y(n.value,((e,t)=>(c(),f(a,{key:e.path},{default:p((()=>["noRedirect"===e.redirect||t===n.value.length-1?(c(),d("span",be,k(e.meta.title),1)):(c(),d("a",{key:1,onClick:x((t=>s(e)),["prevent"])},k(e.meta.title),9,ye))])),_:2},1024)))),128))])),_:1})}}}),[["__scopeId","data-v-8ff70186"]]),ke=g(r({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggle-click"],setup(e,{emit:t}){const a=e,l=()=>{t("toggle-click")};return(e,t)=>{const n=i("el-icon");return c(),d("div",{onClick:l},[u(n,{size:20,class:"icon"},{default:p((()=>[a.isActive?(c(),f(h(C),{key:0})):(c(),f(h(E),{key:1}))])),_:1})])}}}),[["__scopeId","data-v-b698c316"]]),xe=r({__name:"index",setup(e){const{themeList:t,activeThemeName:a,setTheme:l}=S(),n=e=>{l(e)};return(e,l)=>{const r=i("el-icon"),o=i("el-tooltip"),s=i("el-dropdown-item"),m=i("el-dropdown-menu"),v=i("el-dropdown");return c(),f(v,{trigger:"click",onCommand:n},{dropdown:p((()=>[u(m,null,{default:p((()=>[(c(!0),d(_,null,y(h(t),((e,t)=>(c(),f(s,{key:t,disabled:h(a)===e.name,command:e.name},{default:p((()=>[V("span",null,k(e.title),1)])),_:2},1032,["disabled","command"])))),128))])),_:1})])),default:p((()=>[V("div",null,[u(o,{effect:"dark",content:"主题模式",placement:"bottom"},{default:p((()=>[u(r,{size:20},{default:p((()=>[u(h(A))])),_:1})])),_:1})])])),_:1})}}}),Ce=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ee=(()=>{if("undefined"==typeof document)return!1;const e=Ce[0],t={};for(const a of Ce){if((null==a?void 0:a[1])in document){for(const[l,n]of a.entries())t[e[l]]=n;return t}}return!1})(),Ve={change:Ee.fullscreenchange,error:Ee.fullscreenerror};let Ae={request:(e=document.documentElement,t)=>new Promise(((a,l)=>{const n=()=>{Ae.off("change",n),a()};Ae.on("change",n);const r=e[Ee.requestFullscreen](t);r instanceof Promise&&r.then(n).catch(l)})),exit:()=>new Promise(((e,t)=>{if(!Ae.isFullscreen)return void e();const a=()=>{Ae.off("change",a),e()};Ae.on("change",a);const l=document[Ee.exitFullscreen]();l instanceof Promise&&l.then(a).catch(t)})),toggle:(e,t)=>Ae.isFullscreen?Ae.exit():Ae.request(e,t),onchange(e){Ae.on("change",e)},onerror(e){Ae.on("error",e)},on(e,t){const a=Ve[e];a&&document.addEventListener(a,t,!1)},off(e,t){const a=Ve[e];a&&document.removeEventListener(a,t,!1)},raw:Ee};Object.defineProperties(Ae,{isFullscreen:{get:()=>Boolean(document[Ee.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return null!=(e=document[Ee.fullscreenElement])?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[Ee.fullscreenEnabled])}}),Ee||(Ae={isEnabled:!1});const Se=Ae,Pe=g(r({__name:"index",setup(e){const t=l("全屏"),a=l(!1),n=()=>{Se.isEnabled?Se.toggle():T.warning("您的浏览器无法工作")},r=()=>{a.value=Se.isFullscreen,t.value=Se.isFullscreen?"退出全屏":"全屏"};return Se.on("change",r),P((()=>{Se.isEnabled&&Se.off("change",r)})),(e,l)=>{const r=i("svg-icon"),o=i("el-tooltip");return c(),d("div",{onClick:n},[u(o,{effect:"dark",content:t.value,placement:"bottom"},{default:p((()=>[u(r,{name:a.value?"fullscreen-exit":"fullscreen"},null,8,["name"])])),_:1},8,["content"])])}}}),[["__scopeId","data-v-ecf0ac31"]]),Te={class:"card-header"},Fe={class:"card-title"},Ie={class:"card-time"},Me={key:0,class:"card-avatar"},Re=["src"],ze={class:"card-body"},Le=g(r({__name:"NotifyList",props:{list:{type:Object,required:!0}},setup(e){const t=e;return(e,a)=>{const l=i("el-empty"),n=i("el-tag"),r=i("el-card");return 0===t.list.length?(c(),f(l,{key:0})):(c(!0),d(_,{key:1},y(t.list,((e,t)=>(c(),f(r,{key:t,shadow:"never",class:"card-container"},{header:p((()=>[V("div",Te,[V("div",null,[V("span",null,[V("span",Fe,k(e.title),1),e.extra?(c(),f(n,{key:0,type:e.status,effect:"plain",size:"small"},{default:p((()=>[F(k(e.extra),1)])),_:2},1032,["type"])):I("",!0)]),V("div",Ie,k(e.datetime),1)]),e.avatar?(c(),d("div",Me,[V("img",{src:e.avatar,width:"34"},null,8,Re)])):I("",!0)])])),default:p((()=>{var t;return[V("div",ze,k(null!=(t=e.description)?t:"No Data"),1)]})),_:2},1024)))),128))}}}),[["__scopeId","data-v-4dc45f67"]]),Oe=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"半年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"一年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],De=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Ne=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:""},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],qe={class:"notify"},je={class:"notify-history"},Ue=g(r({__name:"index",setup(e){const t=s((()=>{let e=0;for(let t=0;t<n.value.length;t++)e+=n.value[t].list.length;return e})),a=l("通知"),n=l([{name:"通知",type:"primary",list:Oe},{name:"消息",type:"danger",list:De},{name:"待办",type:"warning",list:Ne}]),r=()=>{T.success(`跳转到${a.value}历史页面`)};return(e,l)=>{const o=i("el-icon"),s=i("el-tooltip"),m=i("el-badge"),v=i("el-scrollbar"),g=i("el-tab-pane"),w=i("el-tabs"),b=i("el-button"),x=i("el-popover");return c(),d("div",qe,[u(x,{placement:"bottom",width:350,trigger:"click"},{reference:p((()=>[u(m,{value:h(t),max:99,hidden:0===h(t)},{default:p((()=>[u(s,{effect:"dark",content:"消息通知",placement:"bottom"},{default:p((()=>[u(o,{size:20},{default:p((()=>[u(h(M))])),_:1})])),_:1})])),_:1},8,["value","hidden"])])),default:p((()=>[u(w,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),class:"demo-tabs",stretch:""},{default:p((()=>[(c(!0),d(_,null,y(n.value,((e,t)=>(c(),f(g,{name:e.name,key:t},{label:p((()=>[F(k(e.name)+" ",1),u(m,{value:e.list.length,max:99,type:e.type},null,8,["value","type"])])),default:p((()=>[u(v,{height:"400px"},{default:p((()=>[u(Le,{list:e.list},null,8,["list"])])),_:2},1024)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),V("div",je,[u(b,{link:"",onClick:r},{default:p((()=>[F("查看"+k(a.value)+"历史",1)])),_:1})])])),_:1})])}}}),[["__scopeId","data-v-ea7495cd"]]),Be=e=>(O("data-v-d9971726"),e=e(),D(),e),He={class:"navigation-bar"},Xe={class:"right-menu"},$e={class:"right-menu-avatar"},We=Be((()=>V("span",{style:{display:"block"}},"修改密码",-1))),Ye=Be((()=>V("span",{style:{display:"block"}},"退出登录",-1))),Je={class:"dialog-footer"},Ze=g(r({__name:"index",setup(e){const a=w(),n=oe(),r=fe(),o=R(),m=l(!1),v=l(),g=t({oldPassword:"",newPassword:"",confirmPassword:""}),b=()=>{m.value=!0},y=t({oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{validator:le,trigger:"change"}],confirmPassword:[{validator:(e,t,a)=>{t!=g.newPassword?a(new Error("两次输入的密码不相同")):a()},trigger:"change"}]}),_=s((()=>n.sidebar)),x=s((()=>r.showNotify)),C=s((()=>r.showThemeSwitch)),E=s((()=>r.showScreenfull)),A=()=>{n.toggleSidebar(!1)},S=()=>{o.logout(),a.push("/login")};return(e,t)=>{const a=i("el-avatar"),l=i("el-dropdown-item"),n=i("el-dropdown-menu"),r=i("el-dropdown"),s=i("el-input"),w=i("el-form-item"),P=i("el-form"),M=i("el-button"),R=i("el-dialog");return c(),d("div",He,[u(ke,{"is-active":h(_).opened,class:"hamburger",onToggleClick:A},null,8,["is-active"]),u(_e,{class:"breadcrumb"}),V("div",Xe,[h(E)?(c(),f(Pe,{key:0,class:"right-menu-item"})):I("",!0),h(C)?(c(),f(xe,{key:1,class:"right-menu-item"})):I("",!0),h(x)?(c(),f(Ue,{key:2,class:"right-menu-item"})):I("",!0),u(r,{class:"right-menu-item"},{dropdown:p((()=>[u(n,null,{default:p((()=>[u(l,{onClick:b},{default:p((()=>[We])),_:1}),u(l,{divided:"",onClick:S},{default:p((()=>[Ye])),_:1})])),_:1})])),default:p((()=>[V("div",$e,[u(a,{icon:h(z),size:30},null,8,["icon"]),V("span",null,k(h(o).username),1)])])),_:1}),u(R,{modelValue:m.value,"onUpdate:modelValue":t[5]||(t[5]=e=>m.value=e),title:"修改密码",width:"24%",center:""},{footer:p((()=>[V("span",Je,[u(M,{type:"primary",onClick:t[3]||(t[3]=e=>{var t;(t=v.value)&&t.validate((e=>{if(!e)return!1;L(g).then((e=>{1==e.rspCode&&setTimeout((()=>{T.success("密码修改完毕，即将跳转回登陆页面，请重新登陆"),S()}),2e3)})),t.resetFields(),m.value=!1}))})},{default:p((()=>[F("提交")])),_:1}),u(M,{onClick:t[4]||(t[4]=e=>{var t;(t=v.value)&&(t.resetFields(),m.value=!1)})},{default:p((()=>[F("取消")])),_:1})])])),default:p((()=>[u(P,{ref_key:"ruleFormRef",ref:v,model:g,"status-icon":"",rules:y,"label-width":"120px",class:"demo-ruleForm"},{default:p((()=>[u(w,{label:"旧密码",prop:"oldPassword"},{default:p((()=>[u(s,{modelValue:g.oldPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>g.oldPassword=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(w,{label:"新密码",prop:"newPassword"},{default:p((()=>[u(s,{modelValue:g.newPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>g.newPassword=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(w,{label:"确认新密码",prop:"confirmPassword"},{default:p((()=>[u(s,{type:"password",modelValue:g.confirmPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>g.confirmPassword=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-d9971726"]]),Ke=e=>(O("data-v-82dc807c"),e=e(),D(),e),Ge={class:"drawer-container"},Qe=Ke((()=>V("h3",{class:"drawer-title"},"系统布局配置",-1))),et={class:"drawer-item"},tt=Ke((()=>V("span",null,"显示标签栏",-1))),at={class:"drawer-item"},lt=Ke((()=>V("span",null,"显示侧边栏 Logo",-1))),nt={class:"drawer-item"},rt=Ke((()=>V("span",null,"固定 Header",-1))),ot={class:"drawer-item"},st=Ke((()=>V("span",null,"显示消息通知",-1))),it={class:"drawer-item"},ct=Ke((()=>V("span",null,"显示切换主题按钮",-1))),dt={class:"drawer-item"},ut=Ke((()=>V("span",null,"显示全屏按钮",-1))),pt=g(r({__name:"index",setup(e){const t=fe();return(e,a)=>{const l=i("el-switch");return c(),d("div",Ge,[V("div",null,[Qe,V("div",et,[tt,u(l,{modelValue:h(t).showTagsView,"onUpdate:modelValue":a[0]||(a[0]=e=>h(t).showTagsView=e),class:"drawer-switch"},null,8,["modelValue"])]),V("div",at,[lt,u(l,{modelValue:h(t).showSidebarLogo,"onUpdate:modelValue":a[1]||(a[1]=e=>h(t).showSidebarLogo=e),class:"drawer-switch"},null,8,["modelValue"])]),V("div",nt,[rt,u(l,{modelValue:h(t).fixedHeader,"onUpdate:modelValue":a[2]||(a[2]=e=>h(t).fixedHeader=e),class:"drawer-switch"},null,8,["modelValue"])]),V("div",ot,[st,u(l,{modelValue:h(t).showNotify,"onUpdate:modelValue":a[3]||(a[3]=e=>h(t).showNotify=e),class:"drawer-switch"},null,8,["modelValue"])]),V("div",it,[ct,u(l,{modelValue:h(t).showThemeSwitch,"onUpdate:modelValue":a[4]||(a[4]=e=>h(t).showThemeSwitch=e),class:"drawer-switch"},null,8,["modelValue"])]),V("div",dt,[ut,u(l,{modelValue:h(t).showScreenfull,"onUpdate:modelValue":a[5]||(a[5]=e=>h(t).showScreenfull=e),class:"drawer-switch"},null,8,["modelValue"])])])])}}}),[["__scopeId","data-v-82dc807c"]]),mt=e=>/^(https?:|mailto:|tel:)/.test(e),ft=["href"],ht=r({__name:"SidebarItemLink",props:{to:{type:String,required:!0}},setup(e){const t=e;return(e,a)=>{const l=i("router-link");return h(mt)(t.to)?(c(),d("a",{key:0,href:t.to,target:"_blank",rel:"noopener"},[N(e.$slots,"default")],8,ft)):(c(),f(l,{key:1,to:t.to},{default:p((()=>[N(e.$slots,"default")])),_:3},8,["to"]))}}});function vt(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function gt(e,t){for(var a,l="",n=0,r=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)a=e.charCodeAt(s);else{if(47===a)break;a=47}if(47===a){if(r===s-1||1===o);else if(r!==s-1&&2===o){if(l.length<2||2!==n||46!==l.charCodeAt(l.length-1)||46!==l.charCodeAt(l.length-2))if(l.length>2){var i=l.lastIndexOf("/");if(i!==l.length-1){-1===i?(l="",n=0):n=(l=l.slice(0,i)).length-1-l.lastIndexOf("/"),r=s,o=0;continue}}else if(2===l.length||1===l.length){l="",n=0,r=s,o=0;continue}t&&(l.length>0?l+="/..":l="..",n=2)}else l.length>0?l+="/"+e.slice(r+1,s):l=e.slice(r+1,s),n=s-r-1;r=s,o=0}else 46===a&&-1!==o?++o:o=-1}return l}var wt={resolve:function(){for(var e,t="",a=!1,l=arguments.length-1;l>=-1&&!a;l--){var n;l>=0?n=arguments[l]:(void 0===e&&(e=process.cwd()),n=e),vt(n),0!==n.length&&(t=n+"/"+t,a=47===n.charCodeAt(0))}return t=gt(t,!a),a?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(vt(e),0===e.length)return".";var t=47===e.charCodeAt(0),a=47===e.charCodeAt(e.length-1);return 0!==(e=gt(e,!t)).length||t||(e="."),e.length>0&&a&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return vt(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var a=arguments[t];vt(a),a.length>0&&(void 0===e?e=a:e+="/"+a)}return void 0===e?".":wt.normalize(e)},relative:function(e,t){if(vt(e),vt(t),e===t)return"";if((e=wt.resolve(e))===(t=wt.resolve(t)))return"";for(var a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var l=e.length,n=l-a,r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var o=t.length-r,s=n<o?n:o,i=-1,c=0;c<=s;++c){if(c===s){if(o>s){if(47===t.charCodeAt(r+c))return t.slice(r+c+1);if(0===c)return t.slice(r+c)}else n>s&&(47===e.charCodeAt(a+c)?i=c:0===c&&(i=0));break}var d=e.charCodeAt(a+c);if(d!==t.charCodeAt(r+c))break;47===d&&(i=c)}var u="";for(c=a+i+1;c<=l;++c)c!==l&&47!==e.charCodeAt(c)||(0===u.length?u+="..":u+="/..");return u.length>0?u+t.slice(r+i):(r+=i,47===t.charCodeAt(r)&&++r,t.slice(r))},_makeLong:function(e){return e},dirname:function(e){if(vt(e),0===e.length)return".";for(var t=e.charCodeAt(0),a=47===t,l=-1,n=!0,r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!n){l=r;break}}else n=!1;return-1===l?a?"/":".":a&&1===l?"//":e.slice(0,l)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');vt(e);var a,l=0,n=-1,r=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,s=-1;for(a=e.length-1;a>=0;--a){var i=e.charCodeAt(a);if(47===i){if(!r){l=a+1;break}}else-1===s&&(r=!1,s=a+1),o>=0&&(i===t.charCodeAt(o)?-1==--o&&(n=a):(o=-1,n=s))}return l===n?n=s:-1===n&&(n=e.length),e.slice(l,n)}for(a=e.length-1;a>=0;--a)if(47===e.charCodeAt(a)){if(!r){l=a+1;break}}else-1===n&&(r=!1,n=a+1);return-1===n?"":e.slice(l,n)},extname:function(e){vt(e);for(var t=-1,a=0,l=-1,n=!0,r=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===l&&(n=!1,l=o+1),46===s?-1===t?t=o:1!==r&&(r=1):-1!==t&&(r=-1);else if(!n){a=o+1;break}}return-1===t||-1===l||0===r||1===r&&t===l-1&&t===a+1?"":e.slice(t,l)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var a=t.dir||t.root,l=t.base||(t.name||"")+(t.ext||"");return a?a===t.root?a+l:a+e+l:l}("/",e)},parse:function(e){vt(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var a,l=e.charCodeAt(0),n=47===l;n?(t.root="/",a=1):a=0;for(var r=-1,o=0,s=-1,i=!0,c=e.length-1,d=0;c>=a;--c)if(47!==(l=e.charCodeAt(c)))-1===s&&(i=!1,s=c+1),46===l?-1===r?r=c:1!==d&&(d=1):-1!==r&&(d=-1);else if(!i){o=c+1;break}return-1===r||-1===s||0===d||1===d&&r===s-1&&r===o+1?-1!==s&&(t.base=t.name=0===o&&n?e.slice(1,s):e.slice(o,s)):(0===o&&n?(t.name=e.slice(1,r),t.base=e.slice(1,s)):(t.name=e.slice(o,r),t.base=e.slice(o,s)),t.ext=e.slice(r,s)),o>0?t.dir=e.slice(0,o-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};wt.posix=wt;var bt=wt;const yt={key:2},_t=g(r({__name:"SidebarItem",props:{item:{type:Object,required:!0},isCollapse:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{type:String,default:""}},setup(e){const t=e,a=s((()=>t.item.meta&&t.item.meta.alwaysShow)),l=s((()=>{if(t.item.children){return t.item.children.filter((e=>!(e.meta&&e.meta.hidden))).length}return 0})),n=s((()=>{if(l.value>1)return null;if(t.item.children)for(const e of t.item.children)if(!e.meta||!e.meta.hidden)return e;return{...t.item,path:""}})),r=e=>mt(e)?e:mt(t.basePath)?t.basePath:bt.resolve(t.basePath,e);return(e,l)=>{var o;const s=i("svg-icon"),m=i("el-menu-item"),g=i("sidebar-item",!0),w=i("el-sub-menu");return(null==(o=t.item.meta)?void 0:o.hidden)?I("",!0):(c(),d("div",{key:0,class:j({"simple-mode":t.isCollapse,"first-level":t.isFirstLevel})},[h(a)||!h(n)||h(n).children?(c(),f(w,{key:1,index:r(t.item.path),"popper-append-to-body":""},{title:p((()=>[t.item.meta&&t.item.meta.svgIcon?(c(),f(s,{key:0,name:t.item.meta.svgIcon},null,8,["name"])):t.item.meta&&t.item.meta.elIcon?(c(),f(v(t.item.meta.elIcon),{key:1,class:"el-icon"})):I("",!0),t.item.meta&&t.item.meta.title?(c(),d("span",yt,k(t.item.meta.title),1)):I("",!0)])),default:p((()=>[t.item.children?(c(!0),d(_,{key:0},y(t.item.children,(e=>(c(),f(g,{key:e.path,item:e,"is-collapse":t.isCollapse,"is-first-level":!1,"base-path":r(e.path)},null,8,["item","is-collapse","base-path"])))),128)):I("",!0)])),_:1},8,["index"])):(c(),d(_,{key:0},[h(n).meta?(c(),f(ht,{key:0,to:r(h(n).path)},{default:p((()=>[u(m,{index:r(h(n).path)},q({default:p((()=>[h(n).meta.svgIcon?(c(),f(s,{key:0,name:h(n).meta.svgIcon},null,8,["name"])):h(n).meta.elIcon?(c(),f(v(h(n).meta.elIcon),{key:1,class:"el-icon"})):I("",!0)])),_:2},[h(n).meta.title?{name:"title",fn:p((()=>[F(k(h(n).meta.title),1)])),key:"0"}:void 0]),1032,["index"])])),_:1},8,["to"])):I("",!0)],64))],2))}}}),[["__scopeId","data-v-2f788fbd"]]),kt=g(r({__name:"SidebarLogo",props:{collapse:{type:Boolean,default:!0}},setup(e){const t=e;return(e,a)=>{const l=i("router-link");return c(),d("div",{class:j(["sidebar-logo-container",{collapse:t.collapse}])},[u(m,{name:"sidebar-logo-fade"},{default:p((()=>[t.collapse?(c(),f(l,{key:"collapse",to:"/"})):(c(),f(l,{key:"expand",to:"/"}))])),_:1})],2)}}}),[["__scopeId","data-v-8986011b"]]),xt=g(r({__name:"index",setup(e){const t=ne("--v3-sidebar-menu-bg-color"),a=ne("--v3-sidebar-menu-text-color"),l=ne("--v3-sidebar-menu-active-text-color"),n=o(),r=oe(),m=U(),v=fe(),{showSidebarLogo:g}=B(v),w=s((()=>{const{meta:e,path:t}=n;return(null==e?void 0:e.activeMenu)?e.activeMenu:t})),b=s((()=>!r.sidebar.opened));return(e,n)=>{const r=i("el-menu"),o=i("el-scrollbar");return c(),d("div",{class:j({"has-logo":h(g)})},[h(g)?(c(),f(kt,{key:0,collapse:h(b)},null,8,["collapse"])):I("",!0),u(o,{"wrap-class":"scrollbar-wrapper"},{default:p((()=>[u(r,{"default-active":h(w),collapse:h(b),"background-color":h(t),"text-color":h(a),"active-text-color":h(l),"unique-opened":!0,"collapse-transition":!1,mode:"vertical"},{default:p((()=>[(c(!0),d(_,null,y(h(m).routes,(e=>(c(),f(_t,{key:e.path,item:e,"base-path":e.path,"is-collapse":h(b)},null,8,["item","base-path","is-collapse"])))),128))])),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])])),_:1})],2)}}}),[["__scopeId","data-v-add62d2b"]]),Ct=e("tags-view",(()=>{const e=l([]);return{visitedViews:e,addVisitedView:t=>{e.value.some(((a,l)=>{if(a.path===t.path)return a.fullPath!==t.fullPath&&(e.value[l]=Object.assign({},t)),!0}))||e.value.push(Object.assign({},t))},delVisitedView:t=>{for(const[a,l]of e.value.entries())if(l.path===t.path){e.value.splice(a,1);break}},delOthersVisitedViews:t=>{e.value=e.value.filter((e=>{var a;return(null==(a=e.meta)?void 0:a.affix)||e.path===t.path}))},delAllVisitedViews:()=>{const t=e.value.filter((e=>{var t;return null==(t=e.meta)?void 0:t.affix}));e.value=t}}})),Et={class:"scroll-container"},Vt=g(r({__name:"ScrollPane",setup(e){const t=l(),a=l();let n=0;const r=({scrollLeft:e})=>{n=e},o=e=>{let l=0;const r=a.value.clientWidth,o=t.value.wrap$.clientWidth,s=r-o-n;o>r||(l="left"===e?Math.max(0,n-200):Math.min(n+200,n+s),t.value.setScrollLeft(l))};return(e,l)=>{const n=i("el-icon");return c(),d("div",Et,[u(n,{class:"arrow left",onClick:l[0]||(l[0]=e=>o("left"))},{default:p((()=>[u(h(H))])),_:1}),u(h(X),{ref_key:"scrollbarRef",ref:t,onScroll:r},{default:p((()=>[V("div",{ref_key:"scrollbarContentRef",ref:a,class:"scrollbar-content"},[N(e.$slots,"default",{},void 0,!0)],512)])),_:3},512),u(n,{class:"arrow right",onClick:l[1]||(l[1]=e=>o("right"))},{default:p((()=>[u(h($))])),_:1})])}}}),[["__scopeId","data-v-3e88d80e"]]),At={class:"tags-view-container"},St=g(r({__name:"index",setup(e){const t=G(),a=w(),n=o(),r=Ct(),s=U(),m=l(!1),v=l(0),g=l(0),C=l({});let E=[];const A=e=>e.path===n.path,S=e=>{var t;return null==(t=e.meta)?void 0:t.affix},P=(e,t="/")=>{let a=[];return e.forEach((e=>{var l;if(null==(l=e.meta)?void 0:l.affix){const l=bt.resolve(t,e.path);a.push({fullPath:l,path:l,name:e.name,meta:{...e.meta}})}if(e.children){const t=P(e.children,e.path);t.length>=1&&(a=a.concat(t))}})),a},T=()=>{n.name&&r.addVisitedView(n)},M=e=>{r.delVisitedView(e),A(e)&&z(r.visitedViews,e)},R=()=>{C.value.fullPath!==n.path&&void 0!==C.value.fullPath&&a.push(C.value.fullPath),r.delOthersVisitedViews(C.value)},z=(e,t)=>{const l=e.slice(-1)[0];void 0!==l&&void 0!==l.fullPath?a.push(l.fullPath):"Dashboard"===t.name?a.push({path:"/redirect"+t.path,query:t.query}):a.push("/")},L=()=>{m.value=!1};return b(n,(()=>{T()}),{deep:!0}),b(m,(e=>{e?document.body.addEventListener("click",L):document.body.removeEventListener("click",L)})),W((()=>{(()=>{E=P(s.routes);for(const e of E)e.name&&r.addVisitedView(e)})(),T()})),(e,l)=>{const o=i("el-icon"),s=i("router-link");return c(),d("div",At,[u(Vt,{class:"tags-view-wrapper"},{default:p((()=>[(c(!0),d(_,null,y(h(r).visitedViews,(e=>(c(),f(s,{key:e.path,class:j([A(e)?"active":"","tags-view-item"]),to:{path:e.path,query:e.query},onMouseup:x((t=>S(e)?"":M(e)),["middle"]),onContextmenu:x((a=>((e,a)=>{const l=t.proxy.$el.getBoundingClientRect().left,n=t.proxy.$el.offsetWidth-105,r=a.clientX-l+15;g.value=r>n?n:r,v.value=a.clientY,m.value=!0,C.value=e})(e,a)),["prevent"])},{default:p((()=>{var t;return[F(k(null==(t=e.meta)?void 0:t.title)+" ",1),S(e)?I("",!0):(c(),f(o,{key:0,size:12,onClick:x((t=>M(e)),["prevent","stop"])},{default:p((()=>[u(h(K))])),_:2},1032,["onClick"]))]})),_:2},1032,["class","to","onMouseup","onContextmenu"])))),128))])),_:1}),Y(V("ul",{style:Z({left:g.value+"px",top:v.value+"px"}),class:"contextmenu"},[V("li",{onClick:l[0]||(l[0]=e=>{return t=C.value,void a.replace({path:"/redirect"+t.path,query:t.query});var t})},"刷新"),S(C.value)?I("",!0):(c(),d("li",{key:0,onClick:l[1]||(l[1]=e=>M(C.value))},"关闭")),V("li",{onClick:R},"关闭其它"),V("li",{onClick:l[2]||(l[2]=e=>{return t=C.value,r.delAllVisitedViews(),void(E.some((e=>e.path===n.path))||z(r.visitedViews,t));var t})},"关闭所有")],4),[[J,m.value]])])}}}),[["__scopeId","data-v-2f847f82"]]),Pt=g(r({__name:"index",props:{buttonTop:{type:Number,default:350}},setup(e){const t=e;ee((e=>({"8c501f28":a})));const a=t.buttonTop+"px",n=l(!1);return(e,t)=>{const a=i("el-icon"),l=i("el-drawer");return c(),d(_,null,[V("div",{class:"handle-button",onClick:t[0]||(t[0]=e=>n.value=!0)},[u(a,{size:24},{default:p((()=>[u(h(Q))])),_:1})]),u(l,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),size:"300px","with-header":!1},{default:p((()=>[N(e.$slots,"default",{},void 0,!0)])),_:3},8,["modelValue"])],64)}}}),[["__scopeId","data-v-038e37ce"]]),Tt=g(r({__name:"index",setup(e){const t=oe(),a=fe();(()=>{const e=o(),t=oe(),a=()=>document.body.getBoundingClientRect().width-1<992,l=()=>{if(!document.hidden){const e=a();t.toggleDevice(e?re.Mobile:re.Desktop),e&&t.closeSidebar(!0)}};b((()=>e.name),(()=>{t.device===re.Mobile&&t.sidebar.opened&&t.closeSidebar(!1)})),te((()=>{window.addEventListener("resize",l)})),W((()=>{a()&&(t.toggleDevice(re.Mobile),t.closeSidebar(!0))})),ae((()=>{window.removeEventListener("resize",l)}))})();const l=s((()=>({hideSidebar:!t.sidebar.opened,openSidebar:t.sidebar.opened,withoutAnimation:t.sidebar.withoutAnimation,mobile:t.device===re.Mobile}))),n=s((()=>a.showSettings)),r=s((()=>a.showTagsView)),i=s((()=>a.fixedHeader)),m=()=>{t.closeSidebar(!1)};return(e,t)=>(c(),d("div",{class:j([h(l),"app-wrapper"])},[h(l).mobile&&h(l).openSidebar?(c(),d("div",{key:0,class:"drawer-bg",onClick:m})):I("",!0),u(h(xt),{class:"sidebar-container"}),V("div",{class:j([{hasTagsView:h(r)},"main-container"])},[V("div",{class:j({"fixed-header":h(i)})},[u(h(Ze)),h(r)?(c(),f(h(St),{key:0})):I("",!0)],2),u(h(ve)),h(n)?(c(),f(h(Pt),{key:0},{default:p((()=>[u(h(pt))])),_:1})):I("",!0)],2)],2))}}),[["__scopeId","data-v-566562ee"]]);export{Tt as default};
