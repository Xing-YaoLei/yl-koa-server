import{_ as e,u as l,l as a,a as d,U as u,e as i,o as n,f as s,h as o,w as r,j as t,B as c,E as b}from"./index.393a9567.js";import{e as p,b as h}from"./roles.6a73e1b0.js";const m=[{id:1,label:"员工管理",children:[{id:101,label:"员工列表"},{id:102,label:"部门管理"},{id:103,label:"角色管理"}]},{id:2,label:"司机管理"},{id:3,label:"网点管理"},{id:4,label:"车辆管理",children:[{id:401,label:"车辆管理"},{id:402,label:"车队管理"},{id:403,label:"品牌管理"},{id:404,label:"车型管理"}]},{id:5,label:"车载设备",children:[{id:501,label:"Tbox管理"},{id:502,label:"Tbox型号"}]}],f={class:"app-container"},v=e({__name:"index",setup(e){const v=l(),_=a(),x=d(),V=d({}),k={children:"children",label:"label"};u((()=>{var e;if(null==(e=v.query)?void 0:e.id){const{id:e=null,name:l=null,description:a=null,pid:d=null}=v.query;V.value.name=l,V.value.description=a,V.value.pid=d,V.value.id=e}}));const y=()=>{V.value.id?p(V.value).then((e=>{1==e.rspCode&&(b.success("修改角色身份成功"),_.push({name:"Role"}))})):h(V.value).then((e=>{1==e.rspCode&&(b.success("新增角色身份成功"),_.push({name:"Role"}))}))},C=()=>{V.value.resourceId=x.value.getCheckedKeys()};return(e,l)=>{const a=i("el-input"),d=i("el-form-item"),u=i("el-tree"),b=i("el-button"),p=i("el-form"),h=i("el-card");return n(),s("div",f,[o(h,null,{default:r((()=>[o(p,{"label-width":"100px"},{default:r((()=>[o(d,{required:"",label:"角色名称:"},{default:r((()=>[o(a,{modelValue:V.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value.name=e),placeholder:"请输入角色名称"},null,8,["modelValue"])])),_:1}),o(d,{required:"",label:"角色描述:"},{default:r((()=>[o(a,{modelValue:V.value.description,"onUpdate:modelValue":l[1]||(l[1]=e=>V.value.description=e),placeholder:"请输入角色描述"},null,8,["modelValue"])])),_:1}),o(d,{label:"权限配置:"},{default:r((()=>[o(u,{ref_key:"treeRef",ref:x,data:t(m),"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:k,onChange:C},null,8,["data"])])),_:1}),o(d,null,{default:r((()=>[o(b,{onClick:y},{default:r((()=>[c("保存")])),_:1})])),_:1})])),_:1})])),_:1})])}}},[["__scopeId","data-v-5eb6a43a"]]);export{v as default};
