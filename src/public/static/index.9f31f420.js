import{_ as e,u as l,l as a,a as d,U as u,e as i,o as n,f as o,h as r,w as t,j as s,B as c,E as b}from"./index.699c616b.js";import{e as p,b as f}from"./roles.3817d6ca.js";const h=[{id:1,label:"员工管理",children:[{id:101,label:"员工列表"},{id:102,label:"部门管理"},{id:103,label:"角色管理"}]},{id:2,label:"司机管理"},{id:3,label:"网点管理"},{id:4,label:"车辆管理",children:[{id:401,label:"车辆管理"},{id:402,label:"车队管理"},{id:403,label:"品牌管理"},{id:404,label:"车型管理"}]},{id:5,label:"车载设备",children:[{id:501,label:"Tbox管理"},{id:502,label:"Tbox型号"}]}],m={class:"app-container"},v=e({__name:"index",setup(e){const v=l(),_=a(),x=d(),V=d({}),k={children:"children",label:"label"};u((()=>{var e;if(null==(e=v.query)?void 0:e.id){const{id:e=null,name:l=null,description:a=null,pid:d=null}=v.query;V.value.name=l,V.value.description=a,V.value.pid=d,V.value.id=e}}));const y=()=>{V.value.id?p(V.value).then((e=>{})):f(V.value).then((e=>{1==e.rspCode&&(b.success("新增角色身份成功"),_.push({name:"Role"}))}))},g=()=>{V.value.resourceId=x.value.getCheckedKeys()};return(e,l)=>{const a=i("el-input"),d=i("el-form-item"),u=i("el-tree"),b=i("el-button"),p=i("el-form"),f=i("el-card");return n(),o("div",m,[r(f,null,{default:t((()=>[r(p,{"label-width":"100px"},{default:t((()=>[r(d,{required:"",label:"角色名称:"},{default:t((()=>[r(a,{modelValue:V.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value.name=e),placeholder:"请输入角色名称"},null,8,["modelValue"])])),_:1}),r(d,{required:"",label:"角色描述:"},{default:t((()=>[r(a,{modelValue:V.value.description,"onUpdate:modelValue":l[1]||(l[1]=e=>V.value.description=e),placeholder:"请输入角色描述"},null,8,["modelValue"])])),_:1}),r(d,{label:"权限配置:"},{default:t((()=>[r(u,{ref_key:"treeRef",ref:x,data:s(h),"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:k,onChange:g},null,8,["data"])])),_:1}),r(d,null,{default:t((()=>[r(b,{onClick:y},{default:t((()=>[c("保存")])),_:1})])),_:1})])),_:1})])),_:1})])}}},[["__scopeId","data-v-d0ffd591"]]);export{v as default};
