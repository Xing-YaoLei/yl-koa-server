import{_ as e,l,a,r,U as o,e as p,o as t,f as u,h as d,w as s,at as n,al as i,aw as m,ax as c,F as v,n as h,j as b,B as g,E as y,i as f,C as q,ay as V,az as _}from"./index.699c616b.js";import{f as k}from"./vehicle.859b18b4.js";const x=[{label:"品牌:",prop:"brandId",type:"select",placeholder:"请选择品牌",isRequired:!0,options:[]},{label:"车型名称:",prop:"modelName",type:"input",isRequired:!0,placeholder:"请输入汽车名称。如：奥迪A6"},{label:"级别:",prop:"level",type:"select",isRequired:!0,placeholder:"请选择级别",options:[]},{label:"型号:",prop:"model",type:"input",isRequired:!0,placeholder:"请输入汽车型号。如：2023款第三代330TGI超感精英版"},{label:"上市时间:",prop:"marketTime",type:"input",placeholder:"请输入上市时间"},{label:"能源类型:",prop:"fuelType",type:"select",isRequired:!0,placeholder:"请选择能源类型",options:[]},{label:"排量:",prop:"displacement",type:"input",placeholder:"请输入排量"},{label:"发动机:",prop:"engine",type:"input",placeholder:"请输入发动机类型，如：1.5T 188马力 L4"},{label:"环保标准:",prop:"environmentalProtection",type:"select",placeholder:"请选择环保标准",options:[]},{label:"纯电续航里程:",prop:"maxMileage",type:"input",placeholder:"请输入纯电续航里程"}],R={class:"app-container"},T=e({__name:"index",setup(e){const T=l(),U=a({}),D=a(),I=r({modelName:[{required:!0,message:"请输入车型名称",trigger:"blur"},{min:1,max:20,message:"长度应该在1-20之间",trigger:"blur"}],brandId:[{required:!0,message:"请输入品牌名称",trigger:"blur"},{min:1,max:20,message:"长度应该在1-20之间",trigger:"blur"}],level:[{required:!0,message:"请选择级别",trigger:"change"}],model:[{required:!0,message:"请选择型号",trigger:"change"}],fuelType:[{required:!0,message:"请选择能源类型",trigger:"change"}]}),w=()=>{var e,l;const a=T.currentRoute.value.name;null==(e=D.value)||e.validate(),null==(l=D.value)||l.validate().then((e=>{if(!e)return!1;{const e="addVehicleModel"!=a?V:_;U.value.id=+T.currentRoute.value.query.id,e(U.value).then((e=>{const{rspCode:l,rspMsg:a}=e;1==l&&(y({type:"success",message:a}),T.go(-1))}))}}))},C=e=>e.map((e=>({value:e.id,label:e.name})));return o((()=>{k().then((e=>{x.filter((e=>"brandId"===e.prop))[0].options=C(null==e?void 0:e.rspData)})),n().then((e=>{x.filter((e=>"level"===e.prop))[0].options=C(null==e?void 0:e.rspData)})),i().then((e=>{x.filter((e=>"fuelType"===e.prop))[0].options=C(null==e?void 0:e.rspData)})),m().then((e=>{x.filter((e=>"environmentalProtection"===e.prop))[0].options=C(null==e?void 0:e.rspData)})),T.currentRoute.value.query.id&&c({id:T.currentRoute.value.query.id}).then((e=>{U.value=e.rspData[0]}))})),(e,l)=>{const a=p("el-option"),r=p("el-select"),o=p("el-input"),n=p("el-date-picker"),i=p("el-form-item"),m=p("el-button"),c=p("el-form"),y=p("el-card");return t(),u("div",R,[d(y,null,{default:s((()=>[d(c,{"label-width":"120px",ref_key:"formRef",ref:D,model:U.value,rules:I},{default:s((()=>[(t(!0),u(v,null,h(b(x),(e=>(t(),f(i,{key:e.prop,label:e.label,prop:e.prop},{default:s((()=>[e.options?(t(),f(r,{key:0,modelValue:U.value[e.prop],"onUpdate:modelValue":l=>U.value[e.prop]=l,placeholder:e.placeholder},{default:s((()=>[(t(!0),u(v,null,h(e.options,(e=>(t(),f(a,{key:e.label,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):q("",!0),e.options||"marketTime"==e.prop?q("",!0):(t(),f(o,{key:1,modelValue:U.value[e.prop],"onUpdate:modelValue":l=>U.value[e.prop]=l,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])),e.options||"marketTime"!==e.prop?q("",!0):(t(),f(n,{key:2,style:{width:"400px"},modelValue:U.value[e.prop],"onUpdate:modelValue":l=>U.value[e.prop]=l,type:"year","value-format":"x",placeholder:"请选择时间"},null,8,["modelValue","onUpdate:modelValue"]))])),_:2},1032,["label","prop"])))),128)),d(i,null,{default:s((()=>[d(m,{onClick:l[0]||(l[0]=e=>b(T).go(-1))},{default:s((()=>[g("取消")])),_:1}),d(m,{type:"primary",onClick:w},{default:s((()=>[g("保存")])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})])}}},[["__scopeId","data-v-47abc836"]]);export{T as default};
