import{r as e,_ as l,a,U as o,m as r,e as p,ad as t,o as u,f as d,h as s,w as i,ae as n,j as c,V as v,i as b,ap as h,ag as m,B as f,ah as g,ai as y,x as C,t as _,F as S,n as V,aq as w,E as k,ar as q,af as z,as as R,C as x}from"./index.7c4629cc.js";import{u as F,_ as U,b as P}from"./usePagination.bd041eb4.js";const B={formItems:[{field:"brand",label:"品牌:",placeholder:"请选择",type:"input"},{field:"model",label:"型号:",placeholder:"请选择型号",type:"select",options:[{label:"旗舰版",value:"Good"},{label:"青春版",value:"Child"}]},{field:"cellularNetwork",label:"蜂窝网络:",placeholder:"请选择",type:"select",options:[{label:"3G",value:"3G网"},{label:"4G",value:"4G网"}]}]},L=e([{prop:"brand",label:"品牌",isShow:!0},{prop:"model",label:"型号",isShow:!0},{prop:"cellularNetwork",label:"蜂窝网络",isShow:!0},{prop:"audioFrequency",label:"音频",isShow:!0},{prop:"interfaceType",label:"接口类型",isShow:!0},{prop:"usb",label:"USB",isShow:!0},{prop:"createDateTime",label:"创建日期",isShow:!0},{prop:"createBy",label:"创建人",isShow:!0},{prop:"handle",label:"操作",isShow:!0,custom:!0}]),T=e([{prop:"BrandId",label:"品牌",isRequired:!0,placeholder:"请输入品牌"},{prop:"id",label:"型号",isRequired:!0,placeholder:"请选择型号",options:[{label:"宝马",value:1}]},{prop:"type",label:"类型",placeholder:"请选择类型",isRequired:!0,options:[{label:"宝马",value:2}]},{prop:"interfaceType",label:"接口类型",placeholder:"请选择接口类型",isRequired:!0,options:[{label:"宝马",value:2}]},{prop:"cellularNetwork",label:"蜂窝网络",placeholder:"请选择蜂窝网络",isRequired:!0,options:[{label:"宝马",value:3}]},{prop:"supplier",placeholder:"请输入供应商",label:"供应商",isRequired:!1},{prop:"ethernetProtocol",label:"以太协议栈",placeholder:"请选择以太网协议栈",isRequired:!1,options:[{label:"宝马",value:4}]},{prop:"ecall",label:"ECALL",placeholder:"请选择ECALL",isRequired:!1,options:[{label:"宝马",value:5}]},{prop:"audioFrequency",label:"音频",placeholder:"请选择音频",isRequired:!1,options:[{label:"宝马",value:6}]},{prop:"usb",label:"USB",placeholder:"请选择USB",isRequired:!1,options:[{label:"宝马",value:7}]},{prop:"cv2x",label:"C-V2X",placeholder:"请选择C-V2X",isRequired:!1,options:[{label:"宝马",value:3}]},{prop:"securityChip",label:"安全芯片",placeholder:"请选择安全芯片",isRequired:!1,options:[{label:"宝马",value:4}]},{prop:"nationalStandard",label:"国标",placeholder:"请选择国标标准",isRequired:!1,options:[{label:"宝马",value:2}]}]),D={class:"app-container"},G={class:"pager-wrapper"},N={class:"addTboxHeader"},j={class:"addTboxHeaderTitle"},I={class:"twoLine"},E=l({__name:"index",setup(e){var l;const{paginationData:E,handleCurrentChange:H,handleSizeChange:A}=F(),O=a(!1),X=a(),J=a("add"),K=a([]),M=a(!1),Q=a({}),W=a(),Y=null!=(l=null==B?void 0:B.formItems)?l:[],Z={};Y.map((e=>{Z[e.field]=""}));const $=a(Z),ee=()=>{var e;null==(e=W.value)||e.resetForm(),re()},le=()=>{re($.value)},ae=()=>{var e;null==(e=X.value)||e.resetFields(),M.value=!0,J.value="add"},oe=()=>{X.value.resetFields(),"add"==J.value?w(Q.value).then((e=>{1==e.rspCode&&(k.success("新增成功"),M.value=!1,X.value.resetFields(),re())})):q(Q.value).then((e=>{1==e.rspCode&&(k.success("编辑成功"),M.value=!1,X.value.resetFields(),re())}))},re=e=>{O.value=!0,h({...e,pageNum:E.currentPage,pageSize:E.pageSize}).then((e=>{if(1==e.rspCode){O.value=!1;const{pageNum:l,total:a,data:o}=e.rspData;E.currentPage=l,E.total=a,K.value=o}}))},pe=()=>{X.value.resetFields(),M.value=!1};return o((()=>{re()})),r([()=>E.currentPage,()=>E.pageSize],re),(e,l)=>{const a=p("el-button"),o=p("el-pagination"),r=p("el-card"),h=p("el-option"),w=p("el-select"),q=p("el-input"),F=p("el-form-item"),Y=p("el-form"),Z=p("el-dialog"),te=t("loading");return u(),d("div",D,[s(U,n(c(B),{modelValue:$.value,"onUpdate:modelValue":l[0]||(l[0]=e=>$.value=e),ref_key:"editForm",ref:W}),{lastBtn:i((()=>[s(a,{type:"primary",icon:c(m),onClick:le},{default:i((()=>[f("查询")])),_:1},8,["icon"]),s(a,{icon:c(g),onClick:ee},{default:i((()=>[f("重置")])),_:1},8,["icon"])])),_:1},16,["modelValue"]),v((u(),b(r,null,{default:i((()=>[s(P,{tableData:K.value,columnList:c(L)},{OtherHandle:i((()=>[s(a,{icon:c(y),type:"primary",onClick:ae},{default:i((()=>[f("新增")])),_:1},8,["icon"])])),handle:i((e=>[s(a,{type:"primary",text:"",size:"small",onClick:l=>{return a=e.row,M.value=!0,J.value="edit",void z((()=>{Object.assign(Q.value,a)}));var a}},{default:i((()=>[f("编辑")])),_:2},1032,["onClick"]),s(a,{type:"danger",text:"",size:"small",onClick:l=>{return a=e.row,void R(a.id).then((e=>{1==e.rspCode&&(k.success("删除成功"),re())}));var a}},{default:i((()=>[f("删除")])),_:2},1032,["onClick"])])),_:1},8,["tableData","columnList"]),C("div",G,[s(o,{layout:c(E).layout,"page-sizes":c(E).pageSizes,total:c(E).total,"page-size":c(E).pageSize,currentPage:c(E).currentPage,onSizeChange:c(A),onCurrentChange:c(H)},null,8,["layout","page-sizes","total","page-size","currentPage","onSizeChange","onCurrentChange"])])])),_:1})),[[te,O.value]]),s(Z,{center:"",modelValue:M.value,"onUpdate:modelValue":l[2]||(l[2]=e=>M.value=e),"show-close":!0},{header:i((({})=>[C("div",N,[C("div",j,_("add"==J.value?"添加型号":"编辑型号"),1)])])),footer:i((()=>[s(a,{type:"default",onClick:pe},{default:i((()=>[f("取消")])),_:1}),s(a,{type:"primary",onClick:oe},{default:i((()=>[f("保存")])),_:1})])),default:i((()=>[s(Y,{"label-width":"120px",model:Q.value,modelValue:Q.value,"onUpdate:modelValue":l[1]||(l[1]=e=>Q.value=e),ref_key:"addTboxDialogFormRef",ref:X},{default:i((()=>[C("div",I,[(u(!0),d(S,null,V(c(T),(e=>(u(),b(F,{key:e.prop,prop:e.prop,label:e.label},{default:i((()=>[e.options?(u(),b(w,{key:0,modelValue:Q.value[e.prop],"onUpdate:modelValue":l=>Q.value[e.prop]=l,placeholder:e.placeholder},{default:i((()=>[(u(!0),d(S,null,V(e.options,(e=>(u(),b(h,{key:e.label,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):x("",!0),e.options?x("",!0):(u(),b(q,{key:1,modelValue:Q.value[e.prop],"onUpdate:modelValue":l=>Q.value[e.prop]=l,placeholder:e.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"]))])),_:2},1032,["prop","label"])))),128))])])),_:1},8,["model","modelValue"])])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-cc16bd97"]]);export{E as default};
